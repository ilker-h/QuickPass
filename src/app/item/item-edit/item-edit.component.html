<!-- This page uses a reactive form -->

<div class="container-fluid">
  <div class="everything">
    <mat-card class="mat-elevation-z8">

      <div class="row">
        <div class="inner-div">

          <form [formGroup]="itemForm" (ngSubmit)="onSubmit()" class="form">

            <!-- Folder dropdown -->
            <div class="row" style="padding-bottom: 40px;">

              <mat-icon mat-list-icon class="folder-icon">folder</mat-icon>

              <mat-form-field class="folder-select">
                <mat-label for="folder">Folder</mat-label>
                <mat-select formControlName="folderMatchedTo">
                    <mat-option [value]="''">None (Not in a Folder)</mat-option>
                  <mat-option *ngFor="let individualFolder of allFolders" [value]="individualFolder.name">
                    {{ individualFolder.name }}</mat-option>
                </mat-select>
              </mat-form-field>

            </div>
            <!-- /Folder dropdown -->

            <!-- Title field -->
            <div class="row">
              <mat-form-field class="full-width">
                <mat-label for="title">Title</mat-label>
                <input matInput type="text" id="title" formControlName="title">
              </mat-form-field>
            </div>
            <!-- /Title field -->

            <!-- Username field -->
            <div class="row">
              <mat-form-field class="full-width">
                <mat-label for="username">Username</mat-label>
                <input matInput type="text" id="username" formControlName="username">
              </mat-form-field>
            </div>
            <!-- /Username field -->

            <!-- Password field -->
            <div class="row">
              <mat-form-field class="full-width">
                <mat-label for="username">Password</mat-label>
                <input matInput [type]="hide ? 'password' : 'text'" id="password" formControlName="password">
                <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                  [attr.aria-pressed]="hide">
                  <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
              </mat-form-field>
            </div>
            <!-- Password field -->

            <!-- Email field -->
            <div class="row">
              <mat-form-field class="full-width">
                <mat-label for="email">Email</mat-label>
                <input matInput type="text" id="email" formControlName="email">
              </mat-form-field>
            </div>
            <!-- Email field -->

            <!-- URL field -->
            <div class="row">
              <mat-form-field class="full-width">
                <mat-label for="url">URL</mat-label>
                <input matInput type="text" id="url" formControlName="url">
              </mat-form-field>
            </div>
            <!-- URL field -->

            <!-- Notes field -->
            <div class="row">
              <!-- <div class="col-xs-12"> -->
              <mat-form-field class="full-width">
                <mat-label for="notes">Notes</mat-label>
                <textarea matInput type="text" id="notes" formControlName="notes" cols="1" rows="7"></textarea>
              </mat-form-field>
              <!-- </div> -->
            </div>
            <!-- Notes field -->

            <!-- Action Buttons -->
            <div class="row">
              <!-- Align buttons to the right: https://stackoverflow.com/questions/41894792/align-button-to-the-right/41894896 -->
              <button type="submit" mat-flat-button color="primary">Save</button>
              <button mat-flat-button color="warn" (click)="onDelete()">Delete</button>
              <button mat-stroked-button color="warn" (click)="onCancel()" class="ml-auto cancel-button">Cancel</button>
            </div>
            <!-- Action Buttons -->

          </form>

        </div>
      </div>

    </mat-card>
  </div>
</div>